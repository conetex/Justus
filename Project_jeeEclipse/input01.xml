<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<contract name="contract4u" t="http://conetex.org/justus/baseTyps">
	
	<complexType name="root"> 
	
	<element name="dummy" type="t:ASCII8" minOccurs="1" maxOccurs="1" nillable="false"/>
	<complexType name="credit">  
		<element name="glaeubig" type="contract4u.root.person" minOccurs="1" maxOccurs="1" nillable="false"/>        
		<element name="schuldne" type="contract4u.root.person" minOccurs="1" maxOccurs="1" nillable="false"/>
		<element name="betrag" type="t:Int" minOccurs="1" maxOccurs="1" nillable="false"/>
		<element name="aktiv" type="t:Bool" minOccurs="1" maxOccurs="1" nillable="false"/>        
	</complexType>	
	<complexType name="person">  
		<element name="name" type="t:ASCII8" minOccurs="1" maxOccurs="1" nillable="false"/>        
		<element name="mail" type="t:MailAddress64" minOccurs="1" maxOccurs="1" nillable="false"/>
		<element name="nr" type="t:Int" minOccurs="1" maxOccurs="1" nillable="false"/>
		<complexType name="person">  
			<element name="name" type="t:ASCII8" minOccurs="1" maxOccurs="1" nillable="false"/>        
			<element name="mail" type="t:MailAddress64" minOccurs="1" maxOccurs="1" nillable="false"/>        
		</complexType> 		 
		<function name="tuWas" type="contract4u.root.person.tuWas">  
			<element name="action" type="t:ASCII8" minOccurs="1" maxOccurs="1" nillable="false"/>
		    <return><a>nr</a></return>			        
		</function>       
	</complexType>	
	
	</complexType>

	<element name="instance" type="contract4u.root.credit" minOccurs="1" maxOccurs="1" nillable="false"/><!-- TODO create ComplexTypContract to keep this -->  
	<instance>  
		<glaeubig> 
			<name>hobo</name>        
			<mail>hobo@dida.de</mail>
			<nr>111</nr>
			<tuWas>
				<action>dummy</action>
			</tuWas>
		</glaeubig> 
		<schuldne> 
			<name>biba</name>        
			<mail>biba@dida.de</mail>
			<nr>222</nr>
			<tuWas>
				<action>dummy</action>
			</tuWas>			
		</schuldne>				       
		<betrag>1024</betrag>
		<aktiv>true</aktiv>       
	</instance>		
	
	<function name='foo' type="contract4u.foo"> 
		<element name="param" type='t:Int'>11</element>
		<times>
		    <Integer>2</Integer>	       
		    <Integer>9</Integer>
	    </times>
	    <return>
		    <times>
			    <x>param</x>	    
			    <Integer>8</Integer>	
		    </times>             
	    </return>		             
    </function>
    
    <call function="foo" name="foo" type='t:Int' />
    
    <!-- 
    <element name="param" type='t:Int'>12</element>
	<copy>
	   <source typ='t:Int'>param</source>
	   <target typ='t:Int'>contract4u.foo.param</target>
	</copy>  
	
    
    
	
	<element name="aAddress" type='t:MailAddress64'>12@32543.com</element>
	<element name="a2Addres" type='t:MailAddress64'>ab@cdefg.com</element>
	<copy>
	   <source typ='MailAddress64'>aAddress</source>
	   <target typ='MailAddress64'>a2Addres</target>
	</copy>  
	-->
</contract>